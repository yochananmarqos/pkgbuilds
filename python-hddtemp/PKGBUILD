pkgname=python-hddtemp
_name=${pkgname#python-}
pkgver=0.1.0
pkgrel=1
pkgdesc="Python library to parse hddtemp data"
arch=('any')
url="https://pypi.python.org/pypi/hddtemp"
license=('GPL3')
depends=('python' 'hddtemp')
makedepends=('python-setuptools')
source=("https://pypi.org/packages/source/${_name:0:1}/$_name/$_name-$pkgver.tar.gz"{,.asc})
sha256sums=('0fd485be04793ae6aea7f7f3824ab095a85ace686c86b19605307577f9b51b4e'
            'SKIP')
validpgpkeys=('FB44CE0F7B0A1119DCE0E75D41DC4849F55313FB') # Dennis Fink <metalgamer@c3l.lu>

build() {
	cd "$_name-$pkgver"
	python setup.py build
}

package() {
	cd "$_name-$pkgver"
	python setup.py install --root="$pkgdir/" --optimize=1 --skip-build

	_pyver="$(python -c 'import sys; print("%s.%s" %sys.version_info[0:2])')"

	chmod -R 744 "$pkgdir/usr/lib/python$_pyver/site-packages/$_name-$pkgver-py$_pyver.egg-info"
	chmod 755 "$pkgdir/usr/lib/python$_pyver/site-packages/$_name-$pkgver-py$_pyver.egg-info"
}
