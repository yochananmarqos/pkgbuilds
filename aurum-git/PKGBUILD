# Maintainer: Wesley Hershberger <mggmugginsmc@gmail.com>
pkgname=aurum-git
pkgver=r48.7f6126a
pkgrel=1
pkgdesc="An AUR helper written in Rust"
arch=('x86_64')
url="https://gitlab.com/MggMuggins/aurum"
license=('MIT')
makedepends=('cargo')
conflicts=('aurum')
source=("$pkgname::git+https://gitlab.com/MggMuggins/aurum.git")
sha256sums=('SKIP')

pkgver() {
	cd "$pkgname"
	printf "r%s.%s" "$(git rev-list --count HEAD)" "$(git rev-parse --short HEAD)"
}

build() {
    cd "$pkgname"

    cargo build --release
}

package() {
    cd "$pkgname"
    mv "target/release/aurum-cli" "target/release/aurum"

    install -D "target/release/aurum" -t "$pkgdir/usr/bin/"
}

